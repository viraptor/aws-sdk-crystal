{
  "version":"2.0",
  "metadata":{
    "apiVersion":"2025-10-01",
    "auth":["aws.auth#sigv4"],
    "endpointPrefix":"runtime.sagemaker",
    "protocol":"rest-json",
    "protocolSettings":{"h2":"required"},
    "protocols":["rest-json"],
    "serviceFullName":"Amazon SageMaker Runtime HTTP2",
    "serviceId":"SageMaker Runtime HTTP2",
    "signatureVersion":"v4",
    "signingName":"sagemaker",
    "uid":"sagemaker-runtime-http2-2025-10-01"
  },
  "operations":{
    "InvokeEndpointWithBidirectionalStream":{
      "name":"InvokeEndpointWithBidirectionalStream",
      "http":{
        "method":"POST",
        "requestUri":"/endpoints/{EndpointName}/invocations-bidirectional-stream",
        "responseCode":200
      },
      "input":{"shape":"InvokeEndpointWithBidirectionalStreamInput"},
      "output":{"shape":"InvokeEndpointWithBidirectionalStreamOutput"},
      "errors":[
        {"shape":"InternalServerError"},
        {"shape":"InputValidationError"},
        {"shape":"ServiceUnavailableError"},
        {"shape":"ModelStreamError"},
        {"shape":"ModelError"},
        {"shape":"InternalStreamFailure"}
      ]
    }
  },
  "shapes":{
    "InputValidationError":{
      "type":"structure",
      "members":{
        "Message":{"shape":"String"},
        "ErrorCode":{"shape":"String"}
      },
      "error":{
        "httpStatusCode":400,
        "senderFault":true
      },
      "exception":true
    },
    "Integer":{
      "type":"integer",
      "box":true
    },
    "InternalServerError":{
      "type":"structure",
      "members":{
        "Message":{"shape":"String"},
        "ErrorCode":{"shape":"String"}
      },
      "error":{"httpStatusCode":500},
      "exception":true,
      "fault":true
    },
    "InternalStreamFailure":{
      "type":"structure",
      "members":{
        "Message":{"shape":"String"}
      },
      "exception":true,
      "fault":true
    },
    "InvokeEndpointWithBidirectionalStreamInput":{
      "type":"structure",
      "required":[
        "EndpointName",
        "Body"
      ],
      "members":{
        "EndpointName":{
          "shape":"InvokeEndpointWithBidirectionalStreamInputEndpointNameString",
          "location":"uri",
          "locationName":"EndpointName"
        },
        "Body":{"shape":"RequestStreamEvent"},
        "TargetVariant":{
          "shape":"InvokeEndpointWithBidirectionalStreamInputTargetVariantString",
          "location":"header",
          "locationName":"X-Amzn-SageMaker-Target-Variant"
        },
        "ModelInvocationPath":{
          "shape":"InvokeEndpointWithBidirectionalStreamInputModelInvocationPathString",
          "location":"header",
          "locationName":"X-Amzn-SageMaker-Model-Invocation-Path"
        },
        "ModelQueryString":{
          "shape":"InvokeEndpointWithBidirectionalStreamInputModelQueryStringString",
          "location":"header",
          "locationName":"X-Amzn-SageMaker-Model-Query-String"
        }
      },
      "payload":"Body"
    },
    "InvokeEndpointWithBidirectionalStreamInputEndpointNameString":{
      "type":"string",
      "max":63,
      "min":0,
      "pattern":"[a-zA-Z0-9](-*[a-zA-Z0-9])*.*"
    },
    "InvokeEndpointWithBidirectionalStreamInputModelInvocationPathString":{
      "type":"string",
      "max":100,
      "min":0,
      "pattern":"[A-Za-z0-9\\-._]+(?:/[A-Za-z0-9\\-._]+)*"
    },
    "InvokeEndpointWithBidirectionalStreamInputModelQueryStringString":{
      "type":"string",
      "max":2048,
      "min":0,
      "pattern":"[a-zA-Z0-9][A-Za-z0-9_-]*=(?:[A-Za-z0-9._~\\-]|%[0-9A-Fa-f]{2})+(?:&[a-zA-Z0-9][A-Za-z0-9_-]*=(?:[A-Za-z0-9._~\\-]|%[0-9A-Fa-f]{2})+)*"
    },
    "InvokeEndpointWithBidirectionalStreamInputTargetVariantString":{
      "type":"string",
      "max":63,
      "min":0,
      "pattern":"[a-zA-Z0-9](-*[a-zA-Z0-9])*.*"
    },
    "InvokeEndpointWithBidirectionalStreamOutput":{
      "type":"structure",
      "required":["Body"],
      "members":{
        "Body":{"shape":"ResponseStreamEvent"},
        "InvokedProductionVariant":{
          "shape":"InvokeEndpointWithBidirectionalStreamOutputInvokedProductionVariantString",
          "location":"header",
          "locationName":"X-Amzn-Invoked-Production-Variant"
        }
      },
      "payload":"Body"
    },
    "InvokeEndpointWithBidirectionalStreamOutputInvokedProductionVariantString":{
      "type":"string",
      "max":1024,
      "min":0,
      "pattern":".*\\p{ASCII}*.*"
    },
    "ModelError":{
      "type":"structure",
      "members":{
        "Message":{"shape":"String"},
        "OriginalStatusCode":{"shape":"Integer"},
        "OriginalMessage":{"shape":"String"},
        "LogStreamArn":{"shape":"String"},
        "ErrorCode":{"shape":"String"}
      },
      "error":{
        "httpStatusCode":424,
        "senderFault":true
      },
      "exception":true
    },
    "ModelStreamError":{
      "type":"structure",
      "members":{
        "Message":{"shape":"String"},
        "ErrorCode":{"shape":"String"}
      },
      "exception":true
    },
    "RequestPayloadPart":{
      "type":"structure",
      "members":{
        "Bytes":{
          "shape":"SensitiveBlob",
          "eventpayload":true
        },
        "DataType":{
          "shape":"RequestPayloadPartDataTypeString",
          "eventheader":true
        },
        "CompletionState":{
          "shape":"RequestPayloadPartCompletionStateString",
          "eventheader":true
        },
        "P":{
          "shape":"String",
          "eventheader":true
        }
      },
      "event":true
    },
    "RequestPayloadPartCompletionStateString":{
      "type":"string",
      "pattern":"(PARTIAL)$|^(COMPLETE)"
    },
    "RequestPayloadPartDataTypeString":{
      "type":"string",
      "pattern":"(UTF8)$|^(BINARY)"
    },
    "RequestStreamEvent":{
      "type":"structure",
      "members":{
        "PayloadPart":{"shape":"RequestPayloadPart"}
      },
      "eventstream":true
    },
    "ResponsePayloadPart":{
      "type":"structure",
      "members":{
        "Bytes":{
          "shape":"SensitiveBlob",
          "eventpayload":true
        },
        "DataType":{
          "shape":"ResponsePayloadPartDataTypeString",
          "eventheader":true
        },
        "CompletionState":{
          "shape":"ResponsePayloadPartCompletionStateString",
          "eventheader":true
        },
        "P":{
          "shape":"String",
          "eventheader":true
        }
      },
      "event":true
    },
    "ResponsePayloadPartCompletionStateString":{
      "type":"string",
      "pattern":"(PARTIAL)$|^(COMPLETE)"
    },
    "ResponsePayloadPartDataTypeString":{
      "type":"string",
      "pattern":"(UTF8)$|^(BINARY)"
    },
    "ResponseStreamEvent":{
      "type":"structure",
      "members":{
        "PayloadPart":{"shape":"ResponsePayloadPart"},
        "ModelStreamError":{"shape":"ModelStreamError"},
        "InternalStreamFailure":{"shape":"InternalStreamFailure"}
      },
      "eventstream":true
    },
    "SensitiveBlob":{
      "type":"blob",
      "sensitive":true
    },
    "ServiceUnavailableError":{
      "type":"structure",
      "members":{
        "Message":{"shape":"String"},
        "ErrorCode":{"shape":"String"}
      },
      "error":{"httpStatusCode":503},
      "exception":true,
      "fault":true
    },
    "String":{"type":"string"}
  }
}
